<!DOCTYPE html>
<html>
<body>

  <script>
  
	
    function ReplaceWeirdChars(sValue) {
	
		return sValue
			.replace(/…/g, "...")
			.replace(/–/g, "-")
			.replace(/’/g, "'")
			.replace(/“/g, "\"")
			.replace(/”/g, "\"")
			.replace(/„/g, "\"")
			.replace(/＃/g, "#")
			
			.replace(/\r\n/g, "\\n")
			.replace(/\n/g, "\\n")
		;
	}
	
	
	function GenerateLocKeyDesc(title)
	{
		return GenerateLocKey(title) + "_desc";
	}

	function GenerateLocKeyTitle(title)
	{
		return GenerateLocKey(title) + "_title";
	}

	function GenerateLocKey(title)
	{
		return title.replace(/ /, "_")
			.replace(/'/g, "")
			.replace(/,/g, "")
		;
	}
	
	function ProcessResult() {
		var sInput = document.getElementById('input').value;
		
		var vNames = sInput.split('\n');
		var vResult = [];
		
		var sOutputType = document.querySelector('input[name="OutputType"]:checked').value;

		for (i = 0; i < vNames.length; i++) {
			var sValue = ReplaceWeirdChars(vNames[i].trim());

			if (sValue == "" || sValue == null) {
				
			}
			else {
				var sResult
				if (sOutputType == "title") {
					sResult = GenerateLocKeyTitle(sValue);
				}
				else if (sOutputType == "card") {
					sResult =  "<card="+ GenerateLocKey(sValue) + ">";
				
				}
				else {
				
					sResult = GenerateLocKey(sValue);
				}
				vResult.push(sResult);
			}
		}
		
		document.getElementById('result').value = vResult.join('\n');
	}
	
	function OnLoad() {
		ProcessResult();
	}
	// todo: option for:
	// <card=Major_Ajanis_Pride>
	window.onload = OnLoad;
  </script>

  <span>Options:<span>
  <br>
  <input type="radio" onchange="ProcessResult()" name="OutputType" value="raw"> Raw 
  <br>
  <input type="radio" onchange="ProcessResult()" name="OutputType" value="title" checked> xxx_title
  <br>
  <input type="radio" onchange="ProcessResult()" name="OutputType" value="card"> &ltcard=xxx&gt 
  <br>
  
  <span>Input:<span>
  <br>
  
<textarea id="input" rows="20" oninput="ProcessResult()" cols="50">
Arcades' Strategy
</textarea>

<textarea id="result" onchange="" rows="20" cols="50">

</textarea>
  

</body>
</html>
